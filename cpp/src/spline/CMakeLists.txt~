# spline cmake file

FIND_PACKAGE(SWIG REQUIRED)
INCLUDE(${SWIG_USE_FILE})

FIND_PACKAGE(PythonLibs REQUIRED)
INCLUDE_DIRECTORIES(${PYTHON_INCLUDE_PATH})

FIND_PACKAGE(Threads REQUIRED)

FIND_PACKAGE(ITK REQUIRED)
INCLUDE(${ITK_USE_FILE})	

INCLUDE_DIRECTORIES(${CMAKE_CURRENT_SOURCE_DIR})

SET(CMAKE_SWIG_FLAGS "")
SET(CMAKE_EXE_LINKER_FLAGS "-fPIC")
SET(CMAKE_EXE_SHARED_FLAGS "-fPIC")
SET(CMAKE_CXX_FLAGS "-O3 -fPIC")

SET(SRC_FILES spline.cpp spline.h vec3.h splineitk.cpp)

# spline library 
ADD_LIBRARY(spline ${SRC_FILES})
TARGET_LINK_LIBRARIES(spline ${CMAKE_THREAD_LIBS_INIT})

# ITK library 
#TARGET_LINK_LIBRARIES(spline ${ITK_USE_FILE} ITKCommon ITKIO ITKReview)

# spline module 
SET_SOURCE_FILES_PROPERTIES(spline.i PROPERTIES CPLUSPLUS ON)
SWIG_ADD_MODULE(spline python spline.i ${SRC_FILES})
SWIG_LINK_LIBRARIES(spline ${PYTHON_LIBRARIES} ${CMAKE_THREAD_LIBS_INIT} spline)

 
